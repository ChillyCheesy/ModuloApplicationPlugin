plugins {
    id 'groovy'
    id 'groovy-gradle-plugin'
    id 'com.gradle.plugin-publish' version '0.18.0'
    id 'maven-publish'
}

version = '1.1.0'
group = 'com.chillycheesy'

repositories {
    mavenCentral()
}

dependencies {
    implementation gradleApi()
    implementation group: 'org.yaml', name: 'snakeyaml', version: '1.19'
}

gradlePlugin {
    plugins {
        moduloApplication {
            id = "${group}.modulo-application"
            displayName = 'Modulo Application'
            description = 'Help to create Modulo\'s modules'
            implementationClass = 'com.chillycheesy.modulo.ModuloApplicationPlugin'
        }
    }
}

pluginBundle {
    website = 'https://modulo.chillycheesy.com'
    vcsUrl = 'https://github.com/ChillyCheesy/modulo-gradle-application'
    description = gradlePlugin.plugins.moduloApplication.description
    tags = ['modulo', 'module', 'module.yml']
    mavenCoordinates {
        groupId = project.group
        artifactId = 'modulo-application'
        version = version
    }
}
